{"name": "Prueba Chatbot Avianca", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"iframe[name='Ventana de mensajería']\").content_frame.get_by_role(\"textbox\", name=\"Escriba un mensaje\")", "trace": "page = <Page url='https://www.avianca.com/es/'>\n\n    @allure.feature(\"Chatbot Avianca\")\n    @allure.story(\"Validación de flujo completo\")\n    @allure.title(\"Prueba Chatbot Avianca\")\n    def test_chatbot_Avianca(page: Page):\n        chatbot = ChatbotPage(page, avianca=True)\n        home = HomePage(page)\n        chatbot = ChatbotPage(page, avianca=True)\n    \n        with allure.step(\"Abrir página Avianca\"):\n            home.open_avianca()\n            allure.attach(page.screenshot(), name=\"pantalla_inicial\", attachment_type=allure.attachment_type.PNG)\n    \n        with allure.step(\"Aceptar cookies\"):\n            home.accept_cookies_avianca()\n            allure.attach(page.screenshot(), name=\"cookies_aceptadas\", attachment_type=allure.attachment_type.PNG)\n            page.wait_for_timeout(500)\n    \n        with allure.step(\"Abrir chat\"):\n            page.wait_for_timeout(500)\n            home.open_fixed_button()\n            page.locator(\"#termsCheckbox\").check()\n            home.accept_terms_and_start_chat()\n            allure.attach(page.screenshot(), name=\"chat_iniciado\", attachment_type=allure.attachment_type.PNG)\n    \n        with allure.step(\"Enviar mensaje 'hola'\"):\n>           chatbot.enviar_mensaje_avianca(\"hola\")\n\ntests\\test_chatbot.py:70: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.chatbot_page.ChatbotPage object at 0x000001F8863C6710>, texto = 'hola'\n\n    def enviar_mensaje_avianca(self, texto: str):\n        textbox = self.frame.get_by_role(\"textbox\", name=\"Escriba un mensaje\")\n>       expect(textbox).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: <element(s) not found> \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\"iframe[name='Ventana de mensajería']\").content_frame.get_by_role(\"textbox\", name=\"Escriba un mensaje\")\n\npages\\chatbot_page.py:60: AssertionError"}, "steps": [{"name": "Abrir página Avianca", "status": "passed", "attachments": [{"name": "pantalla_inicial", "source": "09295a2c-6c2c-456a-a7e8-ed7ac3b8b703-attachment.png", "type": "image/png"}], "start": 1762215198702, "stop": 1762215201107}, {"name": "Aceptar cookies", "status": "passed", "attachments": [{"name": "cookies_aceptadas", "source": "cfc6d61b-5940-4c90-8cc2-6d981accde41-attachment.png", "type": "image/png"}], "start": 1762215201107, "stop": 1762215202139}, {"name": "Abrir chat", "status": "passed", "attachments": [{"name": "chat_iniciado", "source": "30dd6cf8-fc0a-4b8e-a692-f67d02a08395-attachment.png", "type": "image/png"}], "start": 1762215202140, "stop": 1762215204599}, {"name": "Enviar mensaje 'hola'", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"iframe[name='Ventana de mensajería']\").content_frame.get_by_role(\"textbox\", name=\"Escriba un mensaje\")\n\n", "trace": "  File \"C:\\Users\\CentribalOP2\\Documents\\Automatizacion - copia\\tests\\test_chatbot.py\", line 70, in test_chatbot_Avianca\n    chatbot.enviar_mensaje_avianca(\"hola\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File \"C:\\Users\\CentribalOP2\\Documents\\Automatizacion - copia\\pages\\chatbot_page.py\", line 60, in enviar_mensaje_avianca\n    expect(textbox).to_be_visible()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\CentribalOP2\\Documents\\Automatizacion\\env\\Lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 20424, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\CentribalOP2\\Documents\\Automatizacion\\env\\Lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"C:\\Users\\CentribalOP2\\Documents\\Automatizacion\\env\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 763, in to_be_visible\n    await self._expect_impl(\n    ...<5 lines>...\n    )\n  File \"C:\\Users\\CentribalOP2\\Documents\\Automatizacion\\env\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual} {format_call_log(result.get('log'))}\"\n    )\n"}, "start": 1762215204599, "stop": 1762215209605}], "start": 1762215198702, "stop": 1762215209607, "uuid": "3f32e216-8dfc-49e0-b8f6-e04c703d94d5", "historyId": "c0dbc69fe1a38e5076d8fe05e134feef", "testCaseId": "c0dbc69fe1a38e5076d8fe05e134feef", "fullName": "tests.test_chatbot#test_chatbot_Avianca", "labels": [{"name": "story", "value": "Validación de flujo completo"}, {"name": "feature", "value": "Chatbot Avianca"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_chatbot"}, {"name": "host", "value": "CentribalOP02"}, {"name": "thread", "value": "32836-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_chatbot"}], "titlePath": ["tests", "test_chatbot.py"]}